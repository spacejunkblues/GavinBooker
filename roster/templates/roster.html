{% extends "base.html" %}

{% block content %}
	{% load static %}
	<h1>Roster</h1>

	<!-- display roster info -->
	<table class="tablelist">
		<tr>
			<th>Remove</th>
			<th>Name</th>
			<th>Hr Rate</th>
			<th>Email</th>
			<th>Phone Number</th>
			<th>Genre</th>
			<th>Description</th>
		</tr>
		{% for performer in roster%}
			<tr>
				<td>
					<!--this is the Remove button-->
					<a href="/roster/delete/{{ performer.performer_id }}" id = "{{ performer.performer_id|slugify|add:'Del'}}"></a>
					<a href="javascript:confirmDelete('{{ performer.performer_id|slugify|add:'Del'}}','{{ performer.displayname }}');" class="nav-items">
						<img class='icon' src="{% static 'images/delicon.png' %}">
					</a>
					
				</td>
				<td>
					<a href="/roster/{{ performer.performer_id }}">
					{{ performer.displayname }}
					</a>
				</td>
				<td>{{ performer.rate }}</td>
				<td>{{ performer.email }}</td>
				<td>{{ performer.phone_number }}</td>
				<td>{{ performer.genre_type }}</td>
				<td>{{ performer.description }}</td>
			</tr>
		{% endfor %}
	</table>
	<form style='padding-left: 20px;' method='POST'> {% csrf_token %}
	{{ form }}
	<input type='submit' value='Add' />
	</form>
	
	<br><br><br>
	<span style='padding-left: 20px;'>Can't find a certain performer?</span><br>
	<a style='padding-left: 20px;' href="/roster/invite">Click to Invite a Performer</a>
	<br><br><br>

		

	<script>
	//this is called for each Del button click
	function confirmDelete(href_id, displayname)
	{
		message = "";
		message = message.concat("You are about to remove ", displayname, " from your roster. Click OK to confirm");
		if(confirm(message))
		{
			window.location = document.getElementById(href_id).href;
		}
	}
	</script>



{% endblock %}